<div class="content">
  <div nz-row  class="project-list">
    <div nz-col nzSpan="20" nzOffset="2">
      <div *ngFor="let item of projectList">
        <nz-card style="width:150px;" [ngClass]="{'active': item.id === selectProject.id}" [nzCover]="coverTemplate" (click)="onSelectProject(item)">
          <nz-card-meta [nzTitle]="item.name"></nz-card-meta>
        </nz-card>
        <ng-template #coverTemplate>
          <img alt="example" src="https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png" />
        </ng-template>
      </div>
    </div>
  </div>
  <div nz-row class="main">
    <div nz-col nzSpan="9" nzOffset="2" class="project-desc">
      <nz-card style="width:100%;" [nzCover]="coverTemplate">
        <nz-card-meta [nzTitle]="selectProject.name"></nz-card-meta>
      </nz-card>
      <ng-template #coverTemplate>
        <img alt="example" src="https://gw.alipayobjects.com/zos/rmsportal/JiqGstEfoWAOHiTxclqi.png" />
      </ng-template>
    </div>
    <div nz-col nzSpan="9" nzOffset="2" class="login">
      <nz-card style="width:100%">
        <h1 style="text-align: center;">登录</h1>
        <form nz-form [formGroup]="formGroup">
          <nz-form-item *ngFor="let field of formTypes">

            <nz-form-label [nzSpan]="4">{{field.prefix}}</nz-form-label>

            <nz-form-control [nzSpan]="20">
              <input nz-input [formControlName]="field.key" >

              <nz-form-explain *ngIf="formGroup.controls[field.key].errors">
                <ng-container>
                  {{formGroup.controls[field.key].errors | formError: field.errors }}
                </ng-container>
              </nz-form-explain>
            </nz-form-control>
          </nz-form-item>
          <nz-form-item>
            <nz-form-control >
              <div class="login-btn">
                <button nz-button nzType="primary" class="login-form-button" (click)="login()" [nzLoading]="loginState" [disabled]="adminLoginState">登 录</button>
                <button nz-button class="login-form-button" (click)="adminLogin()" [nzLoading]="adminLoginState" [disabled]="loginState">管理员登录</button>
              </div>
            </nz-form-control>
          </nz-form-item>
        </form>
      </nz-card>
    </div>
  </div>
</div>
<!-- <div class="bg"></div>
<div class="bg bg2"></div>
<div class="bg bg3"></div> -->
<app-admin [isVisible]="adminIsVisible"></app-admin>
<app-full-menu ></app-full-menu>
